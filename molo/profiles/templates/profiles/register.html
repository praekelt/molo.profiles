{% extends "base.html" %}
{% load i18n static core_tags wagtailsettings_tags %}
{% get_settings %}

{% block content %}
<h3 class="heading heading--profiles">{% trans "Join" %}</h3>
<div class="profiles">
    <span class="profiles__subtitle">{% trans "Not a member yet?" %}</span>
    <span class="profiles__subtitle">{% trans "Join us by signing up below." %}</span>

    <form method="post" action="{% url 'molo.profiles:user_register' %}" class="profiles__form">{% csrf_token %}
        <fieldset>
            <label>{% trans "Choose a username" %}</label>
            {{ form.username.errors}}
            {{ form.username }}
        </fieldset>

        <fieldset>
            <label>{% trans "Choose a 4-digit pin" %}</label>
            {{ form.password.errors}}
            {{ form.password }}
       </fieldset>

        <fieldset>
            {% if settings.profiles.UserProfilesSettings.show_mobile_number_field %}
            <label>{% trans "Enter your mobile number" %}</label>
            {% trans "(e.g. +27900000013)" %}
            {{ form.mobile_number.errors}}
            {{ form.mobile_number }}
            {% endif %}
        </fieldset>

        <fieldset>
            {% if settings.profiles.UserProfilesSettings.show_email_field %}
            <label>{% trans "Enter your email addresss" %}</label>
            {% trans "(e.g. example@foo.com)" %}
            {{ form.email.errors}}
            {{ form.email }}
            {% endif %}
        </fieldset>

       <fieldset>
            {% if form.terms_and_conditions.errors %}
             <p>{% trans "Please accept the T&Cs in order to complete the registration" %}</p>
            {% endif %}
            {{ form.terms_and_conditions }}
            <label class="profiles__terms">{% trans "I accept the Terms and Conditions" %}</label>
        </fieldset>

        <input type="submit" value='{% trans "Save" %}' class="button__pill button__pill--navy" />

        <input type="hidden" name="next" value="{% url 'molo.profiles:registration_done' %}" class="button__pill button__pill--navy" />
    </form>
</div>
<div class="profiles-login">
    <h5 class="profiles-login__title">{% trans "Already a member?" %}</h5>
    <a href="{% url 'molo.profiles:auth_login' %}" class="button__pill button__pill--white">{% trans "Login" %}</a>
</div>
{% endblock %}
